# 浏览器
1个页面，启动4个进程，网络进程， GPU 进程，主进程， 插件进程，渲染进程
新老架构， 新架构是 SOA 面向服务的架构， 每个服务都可以独立的进程中运行

## 渲染流程
获取 HTML， 启动渲染进程，将文档推到渲染进程中

HTML 进行语法和词法解析，构建 DOM tree
解析 CSS， 构建 CSSOM

layout tree (dom 中不可见的节点不在树中)

layerTree 图层树

图层绘制

raster（删格化）操作

合成

显示

DOM tree + CSSOM 进过合成之后， 生成 render tree， 然后 paint，最后渲染
解析 JS

主线程： DOM STYLE Layout Layer Paint

非主线程：tiles raster drawquad (内存-屏幕）display

## 垃圾回收算法
当 js 执行的时候，会形成一个作用域对象，引用对象指向他们的内存地址，当调用栈结束之后，仍然存在索引的对象。

理论基础： 代际消除
- 大部分对象都会在使用过后，很快不再被索引
- 不死的对象会活的更久

垃圾回收的基本过程是标记空间中的活动对象和非活动对象，然后清除非活动对象，对碎片化的内存空间进行整理。

老生代
内存大
标记-清除-整理
声明的时候就会进行标记

新生代
内存小 1-8M
scavenge 算法
将内存空间分为两部分， 一部分存储对象， 一部分空值
当存储对象的部分即将溢出的时候，会开始进行清理，把没有被引用的值删除，同时把所有数据换到原来空的那部分
两次没有被清理的，会上升到老生代空间中
